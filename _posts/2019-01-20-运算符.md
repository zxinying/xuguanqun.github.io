---
layout: post
title:  "运算符"
author: xuguanqun
categories: [ 重学JavaScript ]
image: assets/images/js.jpg
---

# js-运算符
## 四则运算符
>`+ - * /`  

加法运算符不同于其他几个运算符，它有以下几个特点：

+ 运算中其中一方为字符串，那么就会把另一方也转换为字符串
+ 如果一方不是字符串或者数字，那么会将它转换为数字或者字符串
```
1 + '1' // '11'
true + true // 2
4 + [1,2,3] // "41,2,3"
```
如果你对于答案有疑问的话，请看解析：

对于第一行代码来说，触发特点一，所以将数字 1 转换为字符串，得到结果 '11'   
对于第二行代码来说，触发特点二，所以将 `true` 转为数字 1   
对于第三行代码来说，触发特点二，所以将数组通过 `toString` 转为字符串 1,2,3，得到结果 41,2,3   
另外对于加法还需要注意这个表达式 'a' + + 'b'

`'a' + + 'b' // -> "aNaN"`   
因为 + 'b' 等于 `NaN`，所以结果为 "aNaN"，你可能也会在一些代码中看到过 + '1' 的形式来快速获取 `number` 类型。

那么对于除了加法的运算符来说，只要其中一方是数字，那么另一方就会被转为数字
```
4 * '3' // 12
4 * [] // 0
4 * [1, 2] // NaN
```
## 比较和逻辑运算符
比较和逻辑运算符用于测试 `true` 或 `false`
### 比较运算符
>`> < >= <= == === != !==`   

如果是对象，就通过 `toPrimitive` 转换对象  
如果是字符串，就通过 `unicode` 字符索引来比较
```
let a = {
  valueOf() {
    return 0
  },
  toString() {
    return '1'
  }
}
a > -1 // true
```
在以上代码中，因为 a 是对象，所以会通过 `valueOf` 转换为原始类型再比较值。
### 逻辑运算符
>`&& || !`  

| 运算符 | 语法 | 说明 |
|:--------:|:------:|:----:|
|逻辑与，AND（&&）|	expr1 && expr2	|若 expr1 可转换为 true，则返回 expr2；否则，返回 expr1。|
|逻辑或，OR（\|\|）|expr1 \|\| expr2	|若 expr1 可转换为 true，则返回 expr1；否则，返回 expr2。|
|逻辑非，NOT（!）	|!expr|	若 expr 可转换为 true，则返回 false；否则，返回 true。|

## 位运算符
> `| &`  
